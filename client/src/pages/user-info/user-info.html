<header-bar title="User Info"></header-bar>

<ion-content padding>

  <h3>Please finish setting up your account</h3>

  <form (ngSubmit)="saveUser()" #userForm="ngForm">
    <ion-card *ngIf="message" color='secondary'>
      <ion-card-content>
        {{message}}
      </ion-card-content>
    </ion-card>

    <ion-list inset>

      <ion-list radio-group [(ngModel)]="user.user_type" name="userType">
        <ion-item>
          <ion-label>I am a Customer</ion-label>
          <ion-radio value="1" checked></ion-radio>
        </ion-item>
        <ion-item>
          <ion-label>I am a Vendor</ion-label>
          <ion-radio value="2"></ion-radio>
        </ion-item>
      </ion-list>

      <ion-item>
        <ion-label floating>First Name</ion-label>
        <ion-input name="firstName" [(ngModel)]="user.first_name" required></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Last Name</ion-label>
        <ion-input name="lastName" [(ngModel)]="user.last_name" required></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Email Address</ion-label>
        <ion-input name="email" [(ngModel)]="user.email" required></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Phone Number</ion-label>
        <ion-input name="phoneNumber" [(ngModel)]="user.cellphone_number" required></ion-input>
      </ion-item>

      <div [hidden]="user.user_type == 1" class="vendor-section">
        <ion-item>
          <ion-label floating>Business Name</ion-label>
          <ion-input name="bname" [(ngModel)]="vendor.name" [required]="user.user_type == 2"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>Business Address</ion-label>
          <ion-input name="address" [(ngModel)]="vendor.address" [required]="user.user_type == 2"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>Business Description</ion-label>
          <ion-input name="description" [(ngModel)]="vendor.description" [required]="user.user_type == 2"></ion-input>
        </ion-item>
      </div>

    </ion-list>
    <button ion-button full type="submit" [disabled]="!userForm.form.valid">Save User Info</button>
  </form>

</ion-content>
